(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter});}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key];}.bind(null,key));return ns;};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="/assets/packs/";return __webpack_require__(__webpack_require__.s=1135);})
({1082:(function(module,exports,__webpack_require__){__webpack_require__(1083);__webpack_require__(1084);__webpack_require__(1085);$(function(){if(typeof onAppModelViewDefined!='undefined')onAppModelViewDefined();});}),1083:(function(module,exports){(function(e){"use strict";e.fn.konami=function(t){var n,r,i,s;n=e.extend({},e.fn.konami.defaults,t);return this.each(function(){i=[];e(window).keyup(function(e){s=e.keyCode||e.which;if(n.code.length>i.push(s)){return;}if(n.code.length<i.length){i.shift();}if(n.code.toString()!==i.toString()){return;}n.cheat();});});};e.fn.konami.defaults={code:[38,38,40,40,37,39,37,39,66,65],cheat:null};})(jQuery);}),1084:(function(module,exports){(function(window,document,location,setTimeout,decodeURIComponent,encodeURIComponent){var global=this;var channelId=Math.floor(Math.random()*10000);var emptyFn=Function.prototype;var reURI=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/;var reParent=/[\-\w]+\/\.\.\//;var reDoubleSlash=/([^:])\/\//g;var namespace="";var easyXDM={};var _easyXDM=window.easyXDM;var IFRAME_PREFIX="easyXDM_";var HAS_NAME_PROPERTY_BUG;var useHash=false;var flashVersion;var HAS_FLASH_THROTTLED_BUG;function isHostMethod(object,property){var t=typeof object[property];return t=='function'||(!!(t=='object'&&object[property]))||t=='unknown';}
function isHostObject(object,property){return!!(typeof(object[property])=='object'&&object[property]);}
function isArray(o){return Object.prototype.toString.call(o)==='[object Array]';}
function hasFlash(){var name="Shockwave Flash",mimeType="application/x-shockwave-flash";if(!undef(navigator.plugins)&&typeof navigator.plugins[name]=="object"){var description=navigator.plugins[name].description;if(description&&!undef(navigator.mimeTypes)&&navigator.mimeTypes[mimeType]&&navigator.mimeTypes[mimeType].enabledPlugin){flashVersion=description.match(/\d+/g);}}
if(!flashVersion){var flash;try{flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");flashVersion=Array.prototype.slice.call(flash.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1);flash=null;}
catch(notSupportedException){}}
if(!flashVersion){return false;}
var major=parseInt(flashVersion[0],10),minor=parseInt(flashVersion[1],10);HAS_FLASH_THROTTLED_BUG=major>9&&minor>0;return true;}
var on,un;if(isHostMethod(window,"addEventListener")){on=function(target,type,listener){target.addEventListener(type,listener,false);};un=function(target,type,listener){target.removeEventListener(type,listener,false);};}
else if(isHostMethod(window,"attachEvent")){on=function(object,sEvent,fpNotify){object.attachEvent("on"+sEvent,fpNotify);};un=function(object,sEvent,fpNotify){object.detachEvent("on"+sEvent,fpNotify);};}
else{throw new Error("Browser not supported");}
var domIsReady=false,domReadyQueue=[],readyState;if("readyState"in document){readyState=document.readyState;domIsReady=readyState=="complete"||(~navigator.userAgent.indexOf('AppleWebKit/')&&(readyState=="loaded"||readyState=="interactive"));}
else{domIsReady=!!document.body;}
function dom_onReady(){if(domIsReady){return;}
domIsReady=true;for(var i=0;i<domReadyQueue.length;i++){domReadyQueue[i]();}
domReadyQueue.length=0;}
if(!domIsReady){if(isHostMethod(window,"addEventListener")){on(document,"DOMContentLoaded",dom_onReady);}
else{on(document,"readystatechange",function(){if(document.readyState=="complete"){dom_onReady();}});if(document.documentElement.doScroll&&window===top){var doScrollCheck=function(){if(domIsReady){return;}
try{document.documentElement.doScroll("left");}
catch(e){setTimeout(doScrollCheck,1);return;}
dom_onReady();};doScrollCheck();}}
on(window,"load",dom_onReady);}
function whenReady(fn,scope){if(domIsReady){fn.call(scope);return;}
domReadyQueue.push(function(){fn.call(scope);});}
function getParentObject(){var obj=parent;if(namespace!==""){for(var i=0,ii=namespace.split(".");i<ii.length;i++){obj=obj[ii[i]];}}
return obj.easyXDM;}
function noConflict(ns){window.easyXDM=_easyXDM;namespace=ns;if(namespace){IFRAME_PREFIX="easyXDM_"+namespace.replace(".","_")+"_";}
return easyXDM;}
function getDomainName(url){return url.match(reURI)[3];}
function getPort(url){return url.match(reURI)[4]||"";}
function getLocation(url){var m=url.toLowerCase().match(reURI);var proto=m[2],domain=m[3],port=m[4]||"";if((proto=="http:"&&port==":80")||(proto=="https:"&&port==":443")){port="";}
return proto+"//"+domain+port;}
function resolveUrl(url){url=url.replace(reDoubleSlash,"$1/");if(!url.match(/^(http||https):\/\//)){var path=(url.substring(0,1)==="/")?"":location.pathname;if(path.substring(path.length-1)!=="/"){path=path.substring(0,path.lastIndexOf("/")+1);}
url=location.protocol+"//"+location.host+path+url;}
while(reParent.test(url)){url=url.replace(reParent,"");}
return url;}
function appendQueryParameters(url,parameters){var hash="",indexOf=url.indexOf("#");if(indexOf!==-1){hash=url.substring(indexOf);url=url.substring(0,indexOf);}
var q=[];for(var key in parameters){if(parameters.hasOwnProperty(key)){q.push(key+"="+encodeURIComponent(parameters[key]));}}
return url+(useHash?"#":(url.indexOf("?")==-1?"?":"&"))+q.join("&")+hash;}
var query=(function(input){input=input.substring(1).split("&");var data={},pair,i=input.length;while(i--){pair=input[i].split("=");data[pair[0]]=decodeURIComponent(pair[1]);}
return data;}(/xdm_e=/.test(location.search)?location.search:location.hash));function undef(v){return typeof v==="undefined";}
var getJSON=function(){var cached={};var obj={a:[1,2,3]},json="{\"a\":[1,2,3]}";if(typeof JSON!="undefined"&&typeof JSON.stringify==="function"&&JSON.stringify(obj).replace((/\s/g),"")===json){return JSON;}
if(Object.toJSON){if(Object.toJSON(obj).replace((/\s/g),"")===json){cached.stringify=Object.toJSON;}}
if(typeof String.prototype.evalJSON==="function"){obj=json.evalJSON();if(obj.a&&obj.a.length===3&&obj.a[2]===3){cached.parse=function(str){return str.evalJSON();};}}
if(cached.stringify&&cached.parse){getJSON=function(){return cached;};return cached;}
return null;};function apply(destination,source,noOverwrite){var member;for(var prop in source){if(source.hasOwnProperty(prop)){if(prop in destination){member=source[prop];if(typeof member==="object"){apply(destination[prop],member,noOverwrite);}
else if(!noOverwrite){destination[prop]=source[prop];}}
else{destination[prop]=source[prop];}}}
return destination;}
function testForNamePropertyBug(){var form=document.body.appendChild(document.createElement("form")),input=form.appendChild(document.createElement("input"));input.name=IFRAME_PREFIX+"TEST"+channelId;HAS_NAME_PROPERTY_BUG=input!==form.elements[input.name];document.body.removeChild(form);}
function createFrame(config){if(undef(HAS_NAME_PROPERTY_BUG)){testForNamePropertyBug();}
var frame;if(HAS_NAME_PROPERTY_BUG){frame=document.createElement("<iframe name=\""+config.props.name+"\"/>");}
else{frame=document.createElement("IFRAME");frame.name=config.props.name;}
frame.id=frame.name=config.props.name;delete config.props.name;if(typeof config.container=="string"){config.container=document.getElementById(config.container);}
if(!config.container){apply(frame.style,{position:"absolute",top:"-2000px",left:"0px"});config.container=document.body;}
var src=config.props.src;config.props.src="javascript:false";apply(frame,config.props);frame.border=frame.frameBorder=0;frame.allowTransparency=true;config.container.appendChild(frame);if(config.onLoad){on(frame,"load",config.onLoad);}
if(config.usePost){var form=config.container.appendChild(document.createElement('form')),input;form.target=frame.name;form.action=src;form.method='POST';if(typeof(config.usePost)==='object'){for(var i in config.usePost){if(config.usePost.hasOwnProperty(i)){if(HAS_NAME_PROPERTY_BUG){input=document.createElement('<input name="'+i+'"/>');}else{input=document.createElement("INPUT");input.name=i;}
input.value=config.usePost[i];form.appendChild(input);}}}
form.submit();form.parentNode.removeChild(form);}else{frame.src=src;}
config.props.src=src;return frame;}
function checkAcl(acl,domain){if(typeof acl=="string"){acl=[acl];}
var re,i=acl.length;while(i--){re=acl[i];re=new RegExp(re.substr(0,1)=="^"?re:("^"+re.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"));if(re.test(domain)){return true;}}
return false;}
function prepareTransportStack(config){var protocol=config.protocol,stackEls;config.isHost=config.isHost||undef(query.xdm_p);useHash=config.hash||false;if(!config.props){config.props={};}
if(!config.isHost){config.channel=query.xdm_c.replace(/["'<>\\]/g,"");config.secret=query.xdm_s;config.remote=query.xdm_e.replace(/["'<>\\]/g,"");;protocol=query.xdm_p;if(config.acl&&!checkAcl(config.acl,config.remote)){throw new Error("Access denied for "+config.remote);}}
else{config.remote=resolveUrl(config.remote);config.channel=config.channel||"default"+channelId++;config.secret=Math.random().toString(16).substring(2);if(undef(protocol)){if(getLocation(location.href)==getLocation(config.remote)){protocol="4";}
else if(isHostMethod(window,"postMessage")||isHostMethod(document,"postMessage")){protocol="1";}
else if(config.swf&&isHostMethod(window,"ActiveXObject")&&hasFlash()){protocol="6";}
else if(navigator.product==="Gecko"&&"frameElement"in window&&navigator.userAgent.indexOf('WebKit')==-1){protocol="5";}
else if(config.remoteHelper){protocol="2";}
else{protocol="0";}}}
config.protocol=protocol;switch(protocol){case "0":apply(config,{interval:100,delay:2000,useResize:true,useParent:false,usePolling:false},true);if(config.isHost){if(!config.local){var domain=location.protocol+"//"+location.host,images=document.body.getElementsByTagName("img"),image;var i=images.length;while(i--){image=images[i];if(image.src.substring(0,domain.length)===domain){config.local=image.src;break;}}
if(!config.local){config.local=window;}}
var parameters={xdm_c:config.channel,xdm_p:0};if(config.local===window){config.usePolling=true;config.useParent=true;config.local=location.protocol+"//"+location.host+location.pathname+location.search;parameters.xdm_e=config.local;parameters.xdm_pa=1;}
else{parameters.xdm_e=resolveUrl(config.local);}
if(config.container){config.useResize=false;parameters.xdm_po=1;}
config.remote=appendQueryParameters(config.remote,parameters);}
else{apply(config,{channel:query.xdm_c,remote:query.xdm_e,useParent:!undef(query.xdm_pa),usePolling:!undef(query.xdm_po),useResize:config.useParent?false:config.useResize});}
stackEls=[new easyXDM.stack.HashTransport(config),new easyXDM.stack.ReliableBehavior({}),new easyXDM.stack.QueueBehavior({encode:true,maxLength:4000-config.remote.length}),new easyXDM.stack.VerifyBehavior({initiate:config.isHost})];break;case "1":stackEls=[new easyXDM.stack.PostMessageTransport(config)];break;case "2":if(config.isHost){config.remoteHelper=resolveUrl(config.remoteHelper);}
stackEls=[new easyXDM.stack.NameTransport(config),new easyXDM.stack.QueueBehavior(),new easyXDM.stack.VerifyBehavior({initiate:config.isHost})];break;case "3":stackEls=[new easyXDM.stack.NixTransport(config)];break;case "4":stackEls=[new easyXDM.stack.SameOriginTransport(config)];break;case "5":stackEls=[new easyXDM.stack.FrameElementTransport(config)];break;case "6":if(!flashVersion){hasFlash();}
stackEls=[new easyXDM.stack.FlashTransport(config)];break;}
stackEls.push(new easyXDM.stack.QueueBehavior({lazy:config.lazy,remove:true}));return stackEls;}
function chainStack(stackElements){var stackEl,defaults={incoming:function(message,origin){this.up.incoming(message,origin);},outgoing:function(message,recipient){this.down.outgoing(message,recipient);},callback:function(success){this.up.callback(success);},init:function(){this.down.init();},destroy:function(){this.down.destroy();}};for(var i=0,len=stackElements.length;i<len;i++){stackEl=stackElements[i];apply(stackEl,defaults,true);if(i!==0){stackEl.down=stackElements[i-1];}
if(i!==len-1){stackEl.up=stackElements[i+1];}}
return stackEl;}
function removeFromStack(element){element.up.down=element.down;element.down.up=element.up;element.up=element.down=null;}
apply(easyXDM,{version:"2.4.19",query:query,stack:{},apply:apply,getJSONObject:getJSON,whenReady:whenReady,noConflict:noConflict});easyXDM.DomHelper={on:on,un:un,requiresJSON:function(path){if(!isHostObject(window,"JSON")){document.write('<'+'script type="text/javascript" src="'+path+'"><'+'/script>');}}};(function(){var _map={};easyXDM.Fn={set:function(name,fn){_map[name]=fn;},get:function(name,del){if(!_map.hasOwnProperty(name)){return;}
var fn=_map[name];if(del){delete _map[name];}
return fn;}};}());easyXDM.Socket=function(config){var stack=chainStack(prepareTransportStack(config).concat([{incoming:function(message,origin){config.onMessage(message,origin);},callback:function(success){if(config.onReady){config.onReady(success);}}}])),recipient=getLocation(config.remote);this.origin=getLocation(config.remote);this.destroy=function(){stack.destroy();};this.postMessage=function(message){stack.outgoing(message,recipient);};stack.init();};easyXDM.Rpc=function(config,jsonRpcConfig){if(jsonRpcConfig.local){for(var method in jsonRpcConfig.local){if(jsonRpcConfig.local.hasOwnProperty(method)){var member=jsonRpcConfig.local[method];if(typeof member==="function"){jsonRpcConfig.local[method]={method:member};}}}}
var stack=chainStack(prepareTransportStack(config).concat([new easyXDM.stack.RpcBehavior(this,jsonRpcConfig),{callback:function(success){if(config.onReady){config.onReady(success);}}}]));this.origin=getLocation(config.remote);this.destroy=function(){stack.destroy();};stack.init();};easyXDM.stack.SameOriginTransport=function(config){var pub,frame,send,targetOrigin;return(pub={outgoing:function(message,domain,fn){send(message);if(fn){fn();}},destroy:function(){if(frame){frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:location.protocol+"//"+location.host+location.pathname,xdm_c:config.channel,xdm_p:4}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);easyXDM.Fn.set(config.channel,function(sendFn){send=sendFn;setTimeout(function(){pub.up.callback(true);},0);return function(msg){pub.up.incoming(msg,targetOrigin);};});}
else{send=getParentObject().Fn.get(config.channel,true)(function(msg){pub.up.incoming(msg,targetOrigin);});setTimeout(function(){pub.up.callback(true);},0);}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.FlashTransport=function(config){var pub,frame,send,targetOrigin,swf,swfContainer;function onMessage(message,origin){setTimeout(function(){pub.up.incoming(message,targetOrigin);},0);}
function addSwf(domain){var url=config.swf+"?host="+config.isHost;var id="easyXDM_swf_"+Math.floor(Math.random()*10000);easyXDM.Fn.set("flash_loaded"+domain.replace(/[\-.]/g,"_"),function(){easyXDM.stack.FlashTransport[domain].swf=swf=swfContainer.firstChild;var queue=easyXDM.stack.FlashTransport[domain].queue;for(var i=0;i<queue.length;i++){queue[i]();}
queue.length=0;});if(config.swfContainer){swfContainer=(typeof config.swfContainer=="string")?document.getElementById(config.swfContainer):config.swfContainer;}
else{swfContainer=document.createElement('div');apply(swfContainer.style,HAS_FLASH_THROTTLED_BUG&&config.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0});document.body.appendChild(swfContainer);}
var flashVars="callback=flash_loaded"+encodeURIComponent(domain.replace(/[\-.]/g,"_"))
+"&proto="+global.location.protocol
+"&domain="+encodeURIComponent(getDomainName(global.location.href))
+"&port="+encodeURIComponent(getPort(global.location.href))
+"&ns="+encodeURIComponent(namespace);swfContainer.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+id+"' data='"+url+"'>"+
"<param name='allowScriptAccess' value='always'></param>"+
"<param name='wmode' value='transparent'>"+
"<param name='movie' value='"+
url+
"'></param>"+
"<param name='flashvars' value='"+
flashVars+
"'></param>"+
"<embed type='application/x-shockwave-flash' FlashVars='"+
flashVars+
"' allowScriptAccess='always' wmode='transparent' src='"+
url+
"' height='1' width='1'></embed>"+
"</object>";}
return(pub={outgoing:function(message,domain,fn){swf.postMessage(config.channel,message.toString());if(fn){fn();}},destroy:function(){try{swf.destroyChannel(config.channel);}
catch(e){}
swf=null;if(frame){frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=config.remote;easyXDM.Fn.set("flash_"+config.channel+"_init",function(){setTimeout(function(){pub.up.callback(true);});});easyXDM.Fn.set("flash_"+config.channel+"_onMessage",onMessage);config.swf=resolveUrl(config.swf);var swfdomain=getDomainName(config.swf);var fn=function(){easyXDM.stack.FlashTransport[swfdomain].init=true;swf=easyXDM.stack.FlashTransport[swfdomain].swf;swf.createChannel(config.channel,config.secret,getLocation(config.remote),config.isHost);if(config.isHost){if(HAS_FLASH_THROTTLED_BUG&&config.swfNoThrottle){apply(config.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"});}
apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:6,xdm_s:config.secret}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);}};if(easyXDM.stack.FlashTransport[swfdomain]&&easyXDM.stack.FlashTransport[swfdomain].init){fn();}
else{if(!easyXDM.stack.FlashTransport[swfdomain]){easyXDM.stack.FlashTransport[swfdomain]={queue:[fn]};addSwf(swfdomain);}
else{easyXDM.stack.FlashTransport[swfdomain].queue.push(fn);}}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.PostMessageTransport=function(config){var pub,frame,callerWindow,targetOrigin;function _getOrigin(event){if(event.origin){return getLocation(event.origin);}
if(event.uri){return getLocation(event.uri);}
if(event.domain){return location.protocol+"//"+event.domain;}
throw "Unable to retrieve the origin of the event";}
function _window_onMessage(event){var origin=_getOrigin(event);if(origin==targetOrigin&&event.data.substring(0,config.channel.length+1)==config.channel+" "){pub.up.incoming(event.data.substring(config.channel.length+1),origin);}}
return(pub={outgoing:function(message,domain,fn){callerWindow.postMessage(config.channel+" "+message,domain||targetOrigin);if(fn){fn();}},destroy:function(){un(window,"message",_window_onMessage);if(frame){callerWindow=null;frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){var waitForReady=function(event){if(event.data==config.channel+"-ready"){callerWindow=("postMessage"in frame.contentWindow)?frame.contentWindow:frame.contentWindow.document;un(window,"message",waitForReady);on(window,"message",_window_onMessage);setTimeout(function(){pub.up.callback(true);},0);}};on(window,"message",waitForReady);apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:1}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);}
else{on(window,"message",_window_onMessage);callerWindow=("postMessage"in window.parent)?window.parent:window.parent.document;callerWindow.postMessage(config.channel+"-ready",targetOrigin);setTimeout(function(){pub.up.callback(true);},0);}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.FrameElementTransport=function(config){var pub,frame,send,targetOrigin;return(pub={outgoing:function(message,domain,fn){send.call(this,message);if(fn){fn();}},destroy:function(){if(frame){frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:5}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);frame.fn=function(sendFn){delete frame.fn;send=sendFn;setTimeout(function(){pub.up.callback(true);},0);return function(msg){pub.up.incoming(msg,targetOrigin);};};}
else{if(document.referrer&&getLocation(document.referrer)!=query.xdm_e){window.top.location=query.xdm_e;}
send=window.frameElement.fn(function(msg){pub.up.incoming(msg,targetOrigin);});pub.up.callback(true);}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.NameTransport=function(config){var pub;var isHost,callerWindow,remoteWindow,readyCount,callback,remoteOrigin,remoteUrl;function _sendMessage(message){var url=config.remoteHelper+(isHost?"#_3":"#_2")+config.channel;callerWindow.contentWindow.sendMessage(message,url);}
function _onReady(){if(isHost){if(++readyCount===2||!isHost){pub.up.callback(true);}}
else{_sendMessage("ready");pub.up.callback(true);}}
function _onMessage(message){pub.up.incoming(message,remoteOrigin);}
function _onLoad(){if(callback){setTimeout(function(){callback(true);},0);}}
return(pub={outgoing:function(message,domain,fn){callback=fn;_sendMessage(message);},destroy:function(){callerWindow.parentNode.removeChild(callerWindow);callerWindow=null;if(isHost){remoteWindow.parentNode.removeChild(remoteWindow);remoteWindow=null;}},onDOMReady:function(){isHost=config.isHost;readyCount=0;remoteOrigin=getLocation(config.remote);config.local=resolveUrl(config.local);if(isHost){easyXDM.Fn.set(config.channel,function(message){if(isHost&&message==="ready"){easyXDM.Fn.set(config.channel,_onMessage);_onReady();}});remoteUrl=appendQueryParameters(config.remote,{xdm_e:config.local,xdm_c:config.channel,xdm_p:2});apply(config.props,{src:remoteUrl+'#'+config.channel,name:IFRAME_PREFIX+config.channel+"_provider"});remoteWindow=createFrame(config);}
else{config.remoteHelper=config.remote;easyXDM.Fn.set(config.channel,_onMessage);}
var onLoad=function(){var w=callerWindow||this;un(w,"load",onLoad);easyXDM.Fn.set(config.channel+"_load",_onLoad);(function test(){if(typeof w.contentWindow.sendMessage=="function"){_onReady();}
else{setTimeout(test,50);}}());};callerWindow=createFrame({props:{src:config.local+"#_4"+config.channel},onLoad:onLoad});},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.HashTransport=function(config){var pub;var me=this,isHost,_timer,pollInterval,_lastMsg,_msgNr,_listenerWindow,_callerWindow;var useParent,_remoteOrigin;function _sendMessage(message){if(!_callerWindow){return;}
var url=config.remote+"#"+(_msgNr++)+"_"+message;((isHost||!useParent)?_callerWindow.contentWindow:_callerWindow).location=url;}
function _handleHash(hash){_lastMsg=hash;pub.up.incoming(_lastMsg.substring(_lastMsg.indexOf("_")+1),_remoteOrigin);}
function _pollHash(){if(!_listenerWindow){return;}
var href=_listenerWindow.location.href,hash="",indexOf=href.indexOf("#");if(indexOf!=-1){hash=href.substring(indexOf);}
if(hash&&hash!=_lastMsg){_handleHash(hash);}}
function _attachListeners(){_timer=setInterval(_pollHash,pollInterval);}
return(pub={outgoing:function(message,domain){_sendMessage(message);},destroy:function(){window.clearInterval(_timer);if(isHost||!useParent){_callerWindow.parentNode.removeChild(_callerWindow);}
_callerWindow=null;},onDOMReady:function(){isHost=config.isHost;pollInterval=config.interval;_lastMsg="#"+config.channel;_msgNr=0;useParent=config.useParent;_remoteOrigin=getLocation(config.remote);if(isHost){apply(config.props,{src:config.remote,name:IFRAME_PREFIX+config.channel+"_provider"});if(useParent){config.onLoad=function(){_listenerWindow=window;_attachListeners();pub.up.callback(true);};}
else{var tries=0,max=config.delay/50;(function getRef(){if(++tries>max){throw new Error("Unable to reference listenerwindow");}
try{_listenerWindow=_callerWindow.contentWindow.frames[IFRAME_PREFIX+config.channel+"_consumer"];}
catch(ex){}
if(_listenerWindow){_attachListeners();pub.up.callback(true);}
else{setTimeout(getRef,50);}}());}
_callerWindow=createFrame(config);}
else{_listenerWindow=window;_attachListeners();if(useParent){_callerWindow=parent;pub.up.callback(true);}
else{apply(config,{props:{src:config.remote+"#"+config.channel+new Date(),name:IFRAME_PREFIX+config.channel+"_consumer"},onLoad:function(){pub.up.callback(true);}});_callerWindow=createFrame(config);}}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.ReliableBehavior=function(config){var pub,callback;var idOut=0,idIn=0,currentMessage="";return(pub={incoming:function(message,origin){var indexOf=message.indexOf("_"),ack=message.substring(0,indexOf).split(",");message=message.substring(indexOf+1);if(ack[0]==idOut){currentMessage="";if(callback){callback(true);}}
if(message.length>0){pub.down.outgoing(ack[1]+","+idOut+"_"+currentMessage,origin);if(idIn!=ack[1]){idIn=ack[1];pub.up.incoming(message,origin);}}},outgoing:function(message,origin,fn){currentMessage=message;callback=fn;pub.down.outgoing(idIn+","+(++idOut)+"_"+message,origin);}});};easyXDM.stack.QueueBehavior=function(config){var pub,queue=[],waiting=true,incoming="",destroying,maxLength=0,lazy=false,doFragment=false;function dispatch(){if(config.remove&&queue.length===0){removeFromStack(pub);return;}
if(waiting||queue.length===0||destroying){return;}
waiting=true;var message=queue.shift();pub.down.outgoing(message.data,message.origin,function(success){waiting=false;if(message.callback){setTimeout(function(){message.callback(success);},0);}
dispatch();});}
return(pub={init:function(){if(undef(config)){config={};}
if(config.maxLength){maxLength=config.maxLength;doFragment=true;}
if(config.lazy){lazy=true;}
else{pub.down.init();}},callback:function(success){waiting=false;var up=pub.up;dispatch();up.callback(success);},incoming:function(message,origin){if(doFragment){var indexOf=message.indexOf("_"),seq=parseInt(message.substring(0,indexOf),10);incoming+=message.substring(indexOf+1);if(seq===0){if(config.encode){incoming=decodeURIComponent(incoming);}
pub.up.incoming(incoming,origin);incoming="";}}
else{pub.up.incoming(message,origin);}},outgoing:function(message,origin,fn){if(config.encode){message=encodeURIComponent(message);}
var fragments=[],fragment;if(doFragment){while(message.length!==0){fragment=message.substring(0,maxLength);message=message.substring(fragment.length);fragments.push(fragment);}
while((fragment=fragments.shift())){queue.push({data:fragments.length+"_"+fragment,origin:origin,callback:fragments.length===0?fn:null});}}
else{queue.push({data:message,origin:origin,callback:fn});}
if(lazy){pub.down.init();}
else{dispatch();}},destroy:function(){destroying=true;pub.down.destroy();}});};easyXDM.stack.VerifyBehavior=function(config){var pub,mySecret,theirSecret,verified=false;function startVerification(){mySecret=Math.random().toString(16).substring(2);pub.down.outgoing(mySecret);}
return(pub={incoming:function(message,origin){var indexOf=message.indexOf("_");if(indexOf===-1){if(message===mySecret){pub.up.callback(true);}
else if(!theirSecret){theirSecret=message;if(!config.initiate){startVerification();}
pub.down.outgoing(message);}}
else{if(message.substring(0,indexOf)===theirSecret){pub.up.incoming(message.substring(indexOf+1),origin);}}},outgoing:function(message,origin,fn){pub.down.outgoing(mySecret+"_"+message,origin,fn);},callback:function(success){if(config.initiate){startVerification();}}});};easyXDM.stack.RpcBehavior=function(proxy,config){var pub,serializer=config.serializer||getJSON();var _callbackCounter=0,_callbacks={};function _send(data){data.jsonrpc="2.0";pub.down.outgoing(serializer.stringify(data));}
function _createMethod(definition,method){var slice=Array.prototype.slice;return function(){var l=arguments.length,callback,message={method:method};if(l>0&&typeof arguments[l-1]==="function"){if(l>1&&typeof arguments[l-2]==="function"){callback={success:arguments[l-2],error:arguments[l-1]};message.params=slice.call(arguments,0,l-2);}
else{callback={success:arguments[l-1]};message.params=slice.call(arguments,0,l-1);}
_callbacks[""+(++_callbackCounter)]=callback;message.id=_callbackCounter;}
else{message.params=slice.call(arguments,0);}
if(definition.namedParams&&message.params.length===1){message.params=message.params[0];}
_send(message);};}
function _executeMethod(method,id,fn,params){if(!fn){if(id){_send({id:id,error:{code:-32601,message:"Procedure not found."}});}
return;}
var success,error;if(id){success=function(result){success=emptyFn;_send({id:id,result:result});};error=function(message,data){error=emptyFn;var msg={id:id,error:{code:-32099,message:message}};if(data){msg.error.data=data;}
_send(msg);};}
else{success=error=emptyFn;}
if(!isArray(params)){params=[params];}
try{var result=fn.method.apply(fn.scope,params.concat([success,error]));if(!undef(result)){success(result);}}
catch(ex1){error(ex1.message);}}
return(pub={incoming:function(message,origin){var data=serializer.parse(message);if(data.method){if(config.handle){config.handle(data,_send);}
else{_executeMethod(data.method,data.id,config.local[data.method],data.params);}}
else{var callback=_callbacks[data.id];if(data.error){if(callback.error){callback.error(data.error);}}
else if(callback.success){callback.success(data.result);}
delete _callbacks[data.id];}},init:function(){if(config.remote){for(var method in config.remote){if(config.remote.hasOwnProperty(method)){proxy[method]=_createMethod(config.remote[method],method);}}}
pub.down.init();},destroy:function(){for(var method in config.remote){if(config.remote.hasOwnProperty(method)&&proxy.hasOwnProperty(method)){delete proxy[method];}}
pub.down.destroy();}});};module.exports=easyXDM;})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);}),1085:(function(module,exports,__webpack_require__){var easyXDM=__webpack_require__(1084);window.loadView=function(opts){window.name=META.id;var use_backup_content=typeof opts!='undefined'&&opts.use_backup_content!=undefined?opts.use_backup_content:false;var app_el=typeof opts!='undefined'&&opts.app_el!=undefined?opts.app_el:$('#appView');for(var key in GLOBALS){window[key]=GLOBALS[key];}
var model_name=META.app_type+'AppModel';if(META.soft_alias){window[model_name]=window[META.app_namespace+'AppModel'];}
if(window.ENVIRONMENT=='development'||window.ENVIRONMENT=='staging'){initializePlatformsForQA();}
window.APP_MODEL=new window[model_name]();if(use_backup_content){for(var key in BACKUP_CONTENT){if(BACKUP_CONTENT[key]!='undefined'){APP_MODEL.set(key,BACKUP_CONTENT[key]);}}}else{for(var key in CONTENT){if(CONTENT[key]!='undefined'){APP_MODEL.set(key,CONTENT[key]);}}}
APP_MODEL.meta={};for(var key in META){if(META[key]!='undefined'){APP_MODEL.meta[key]=META[key];}}
APP_MODEL.afterMount();if(META.password_protected_template){$('body').append(META.password_protected_template);}
window.APP_VIEW=new window[META.app_namespace+'AppView']({el:'#'+app_el.attr('id'),model:APP_MODEL});if($.inArray(META.external_id_type,['weebly-integrated','design-editor','webydo','bookmark','cloudflare','wordpress'])>-1){debug()('Updating through local storage');setInterval(function(){if(typeof META=='undefined'){return;}
var data=localStorage.getItem('powr_data_'+META.id);if(data==undefined||data==null||data=='null'){return;}
data=JSON.parse(data);var locals=APP_MODEL.get('locals');for(var i in data.content){if(i=='locals'){for(var j in data.content.locals){APP_MODEL.attributes.locals[j]=data.content.locals[j];}}else{APP_MODEL.attributes[i]=data.content[i];}}
if(typeof PLATFORM_DATA!='undefined'){loadPlatformData(PLATFORM_DATA,{render:false});}
APP_VIEW.render();localStorage.removeItem('powr_data_'+META.id);},100);}
loadViewInitializers();};function loadViewInitializers(){if(META.premium_status=='free'){$('.loadingWrapper').show();}
if(META.edit_me){if(META.external_id_type=='jimdo'){$('#editMe').css({marginTop:'20px'});}
$('#editMe').fadeIn('fast');}
$('link[rel="canonical"]').attr('href',baseUri()+'/plugins/view?id='+META.id);if(META.admin_debug_panel){$('body').append(META.admin_debug_panel);}
var mode=getURLParameter('mode');if(mode=='page'){var marginValues=window.isMobile()?'5% 10px':'5% 15%';$('html').css({overflow:'auto'});$('#appView').css({margin:marginValues});}else if(mode=='scroll'){$('html').css({overflow:'auto'});}else{$('html').css({overflow:'hidden'});}}
function loadViewListeners(){try{window.APP_SOCKET=new easyXDM.Socket({onMessage:function onMessage(message){var m=JSON.parse(message);debug()('Message in app:',m);if(m.action&&m.action=='activate'){$('#editMe').fadeIn();}else if(m.action&&m.action=='deactivate'){$('#editMe').fadeOut();}}});}catch(err){debug()('Could not establish socket connection: '+err);}
function windowMessageReceived(evt){debug()('View received settings, evt is',evt);try{var response=JSON.parse(evt.data);}catch(err){debug()("Couldn't json parse data: ",err);return false;}
var response=JSON.parse(evt.data);if(response.message=='loaded'){var setParentOrigin=function setParentOrigin(){window.PARENT_ORIGIN=evt.origin;window.IFRAME_INDEX=response.data.iframe_index;if(typeof APP_MODEL=='undefined'){setTimeout(setParentOrigin,50);}else{APP_MODEL.setLocals({parent_origin:evt.origin,iframe_index:response.data.iframe_index,parent_window_height:response.data.parent_window_height,parent_window_width:response.data.parent_window_width});}};debug()('View received settings loaded. Evt origin is ',evt.origin);setParentOrigin();var r={message:'viewLoaded',data:{iframe_index:response.data.iframe_index}};parent.postMessage(JSON.stringify(r),evt.origin);if(typeof APP_VIEW!='undefined'){APP_VIEW.postSizeToSocket();}}
if(response.message=='loadView'){window.META=response.data.meta;window.GLOBALS=response.data.globals;window.CONTENT=response.data.content;loadView();window.APP_MODEL.setLocals({parent_origin:evt.origin,iframe_index:response.data.iframe_index});}else if(response.message=='showEdit'){$('#editMe, .adminAppInfo').fadeIn();}else if(response.message=='hideEdit'){$('#editMe, .adminAppInfo').hide();}else if(response.message=='update'&&APP_MODEL){var locals=APP_MODEL.get('locals');for(var i in response.data.content){if(i=='locals'){for(var j in response.data.content.locals){APP_MODEL.attributes.locals[j]=response.data.content.locals[j];}}else{APP_MODEL.attributes[i]=response.data.content[i];}}
APP_VIEW.render();}else if(response.message=='triggerPowrPopupClick'||response.message=='exitDocument'){if(APP_VIEW.openModal){APP_VIEW.openModal(response.message);}}else if(response.message=='platformData'){loadPlatformData(response.data);window.PLATFORM_DATA=response.data;}else if(response.message=='scrollPosition'&&APP_VIEW.receiveScrollPosition){APP_VIEW.receiveScrollPosition(response.scrollPercentage);}}
if(window.addEventListener){window.addEventListener('message',windowMessageReceived);}else{window.attachEvent('onmessage',windowMessageReceived);}
$(document).on('click','#editMe, .js-launchPopoutSettings, .js-unclaimed-cta',function(){if(typeof SETTINGS_WINDOW!='undefined'&&SETTINGS_WINDOW.close){SETTINGS_WINDOW.close();}
var h=Math.round(0.9*screen.height);var w=400;var o=Math.round(screen.width-w-0.1*screen.width);var url='/apps/'+META.app_type+'/settings?id='+META.true_id+'&demo_mode='+META.demo_mode+'&section=popup';if(META.template!=undefined){url+='&template='+META.template;}
if($(this).hasClass('js-unclaimed-cta')){url+='&triggerSignup=true';}
window.SETTINGS_WINDOW=window.open(url,'POWr Editor','width='+w+',height='+h+',top=-1000,left='+o+',location=no,status=no','false');});$('#editMe').hover(function(){$('.js-editMeMenu').stop().fadeIn(100,function(){APP_VIEW.postSizeToSocket();});},function(){$('.js-editMeMenu').stop().fadeOut(100,function(){APP_VIEW.postSizeToSocket();});});$('.js-editMeMenu').hover(function(){$('.js-editMeMenu').stop().show();},function(){$('.js-editMeMenu').stop().fadeOut(100,function(){APP_VIEW.postSizeToSocket();});});function editMePopover(){$('#editMe').popover({html:true,trigger:'hover',delay:{hide:850},viewport:{selector:'#apps-view',padding:0},template:'<div class="popover" role="tooltip" style="font-size: 12px;margin-top: 5px;z-index: 10000000;"><div class="arrow"></div><div class="popover-content"></div></div>'});}
if($(window).popover==undefined){setTimeout(function(){editMePopover();},2000);return;}else{editMePopover();}
$(document).on('click','.js-launchStandalone',function(){var standaloneUrl='/plugins/'+META.app_slug+'/standalone?id='+META.id;window.open(standaloneUrl);});$(document).on('click','.js-launchResponseDashboard',function(){var dashboardUrl='/apps/'+META.id+'/analytics';window.open(dashboardUrl);});$(window).on('beforeunload',function(){if(APP_MODEL.get('locals').isDirty&&$('#appSettings').length>0){return 'You have unsaved work with a POWr Plugin! If you leave this page you will lose any unsaved changes.';}});}
function loadPlatformData(platformData,opts){debug()('Trying to load platform data');if(typeof APP_MODEL=='undefined'){setTimeout(function(){loadPlatformData(platformData);},100);return;}
if(typeof opts=='undefined'){opts={render:true};}
debug()('Loading platform data',platformData);var hasChanged=false;var newPlatformData={};for(var key in platformData.content){if(typeof APP_MODEL.defaults()[key]!='undefined'&&APP_MODEL.attributes[key]!=platformData.content[key]){debug()('Default key: '+APP_MODEL.defaults()[key]);debug()('Response key: '+platformData.content[key]);if((APP_MODEL.defaults()[key]+'').slice(-2)=='px'&&(platformData.content[key]+'').slice(-2)!='px'){APP_MODEL.attributes[key]=platformData.content[key]+'px';newPlatformData[key]=platformData.content[key]+'px';}else{APP_MODEL.attributes[key]=platformData.content[key];newPlatformData[key]=platformData.content[key];}
hasChanged=true;}}
if(hasChanged&&opts.render){APP_VIEW.render();}}
function initializeWix(){if(typeof WIX_QA_APP_TYPE!='undefined'){window.wixStagingAppModel=window[WIX_QA_APP_TYPE+'AppModel'];window.wixLocalAppModel=wixStagingAppModel;window.localDevAppModel=wixStagingAppModel;window.wixIeLocalAppModel=wixStagingAppModel;}
window.VIEW_MODE=Wix.Utils.getViewMode();if(VIEW_MODE!='site'){loadView({use_backup_content:true});}else{loadView({use_backup_content:false});}
Wix.addEventListener(Wix.Events.SETTINGS_UPDATED,function(data){debug()('Wix settings updated:',data);APP_MODEL.attributes=data;APP_MODEL.meta.saved=true;APP_VIEW.render();});Wix.addEventListener(Wix.Events.SITE_PUBLISHED,function(data){debug()('site published');APP_MODEL.doSave({post_params:{wix_published:true}});});Wix.addEventListener(Wix.Events.COMPONENT_DELETED,function(data){debug()('app deleted');APP_MODEL.doSave({post_params:{wix_deleted:true}});});if(VIEW_MODE=='site'){Wix.currentMember(function(memberDetails){debug()('member details: ',memberDetails);if(memberDetails&&memberDetails.email){setTimeout(function(){deliverHash(memberDetails.email);},2000);}});}}
$(function(){if($('#apps-view, #apps-facebook_view').length>0){loadView();loadViewListeners();}
if($('#apps-cached_view, #views-show').length>0){debug()('In apps cached view');loadViewListeners();if(getURLParameter('load')=='async'){debug()('Async loading');window.LOAD_ME_INTERVAL=setInterval(function(){if(typeof META=='undefined'||META==undefined){if(typeof PARENT_ORIGIN!='undefined'&&typeof IFRAME_INDEX!='undefined'){var r={message:'loadMe',data:{iframe_index:IFRAME_INDEX}};parent.postMessage(JSON.stringify(r),PARENT_ORIGIN);}}else{clearInterval(LOAD_ME_INTERVAL);}},5000);}else{var url='/plugins/'+APP_DETAILS.slug+'/view.json?';if(getURLParameter('id')){url+='id='+getURLParameter('id');}else if(getURLParameter('unique_label')){url+='unique_label='+getURLParameter('unique_label')+'&powr_token='+getURLParameter('powr_token')+'&user_label='+getURLParameter('user_label');}else{url+='powr_token='+getURLParameter('powr_token')+'&user_label='+getURLParameter('user_label');}
if(getURLParameter('external_type')){url+='&external_type='+getURLParameter('external_type');}
try{var params={};var platformUrl=document.location.toString().split('#platform=');var ancestors=document.location.ancestorOrigins;if(!!ancestors){var referrer=ancestors[ancestors.length-1];params.url=referrer;}else{params.url=document.referrer;}
if(platformUrl.length>=1){params.platform=platformUrl[1];}
params=$.param(params);url='/json/'+window.META.id+'?'+params;}catch(err){debug()('Error with short json URL endpoint',err);}
debug()('Calling to get app json. Url is '+url);ajaxController({url:url,type:'GET'},function(r){if(r&&r.success){debug()('Success getting view data');window.META=r.meta;window.GLOBALS=r.globals;window.CONTENT=r.content;loadView();}else{debug()('Error getting view data');}});}}
if($('#apps-wix_view').length>0){initializeWix();}
if($('#apps-wix_cached_view').length>0){var url='/plugins/'+APP_DETAILS.slug+'/wix_view.json?'+originalQuery();ajaxController({url:url,type:'GET'},function(r){if(r.success){window.META=r.meta;window.GLOBALS=r.globals;window.VIEW_MODE=Wix.Utils.getViewMode();if(VIEW_MODE!='site'){window.BACKUP_CONTENT=r.content;}else{window.CONTENT=r.content;}
initializeWix();}else{debug()('Error getting wix view data');}});}});}),1135:(function(module,exports,__webpack_require__){__webpack_require__(1136);$(function(){fileEmbedAppModel=appModel.extend({baseDefaults:function baseDefaults(){var d={fileUrl:'https://s3-us-west-1.amazonaws.com/powr/presets/fileEmbed/fileembed.pdf',fileName:'File Embed Default.png',title:'',isPreset:true,backgroundBorderColor:'rgb(86, 86, 86)',backgroundBorderRadius:'10px',backgroundBorderWidth:'0px',backgroundColor:'rgb(255, 255, 255, 0)',backgroundEndColor:'#333',backgroundGradient:false,backgroundShadow:'none',backgroundStartColor:'#d5d5d5',textAlign:'center',titleFontColor:'#000',titleFontFamily:'Open Sans',titleFontSize:'20px',heightRatio:'1.3',colorPreset:'',customCSS:'',customJS:'',designPreset:'',passwordProtectOn:false,pluginWidth:'500px',shareable:false};if(HOST=='wix'){d['heroBackgroundColorWix']='color-3';d['heroTitleFontColorWix']='color-1';d['heroSubtitleFontColorWix']='color-2';d['featureFontColorWix']='color-4';d['buttonFontColorWix']='color-1';d['backgroundColorWix']='color-1';d['backgroundBorderColorWix']='color-4';d['highlightGlowColorWix']='color-1';}
return d;}});fileEmbedAppSettings=appSettings.extend({afterInitialize:function afterInitialize(){},afterRender:function afterRender(){},afterUpdate:function afterUpdate(){var self=this;self.model.triggerChange();}});fileEmbedAppView=appView.extend({afterInitialize:function afterInitialize(){var self=this;this.$el.csswatch({props:'width'});this.$el.on('css-change',function(){if(typeof CSS_CHANGE_TIMER!='undefined'){clearTimeout(CSS_CHANGE_TIMER);}
window.CSS_CHANGE_TIMER=setTimeout(function(){self.computeHeight();},200);});},afterRender:function afterRender(){var self=this;self.computeHeight();},computeHeight:function computeHeight(){var calculatedHeight=this.$el.find('.frameWrapper').width()*parseFloat(this.model.get('heightRatio'));debug()('Calculated height: '+calculatedHeight);this.$el.find('.frameWrapper').height(calculatedHeight);this.postSizeToSocket();}});__webpack_require__(1082);});}),1136:(function(module,exports){function get_content(app_type,feed_post,share_on){var host_url=baseUri();var shared_link;var title='';var subtitle;var desc='';var image;var video_id;var type='text';var limit=APP_MODEL.attributes.charLimit||500;var feed_type='microblog';var share_hash;if(app_type==='microblog'){for(var i in feed_post.content){if(feed_post.content[i].contentUrl){shared_link=feed_post.content[i].contentUrl;}
if(feed_post.content[i].type==='title'){title=feed_post.content[i].content.substr(0,limit);}else if(feed_post.content[i].type==='subtitle'){subtitle=feed_post.content[i].content.substr(0,limit);}else if(feed_post.content[i].type==='text'){desc=feed_post.content[i].content.substr(0,limit);}else if(feed_post.content[i].type==='image'){image=feed_post.content[i].content;type='image';}else if(feed_post.content[i].type==='video'){image=feed_post.content[i].content;type='video';}else if(feed_post.content[i].type==='button'){desc=feed_post.content[i].text;link=feed_post.content[i].url;}else if(feed_post.content[i].type==='date'){desc=feed_post.content[i].content;}else if(feed_post.content[i].type==='document'){desc=feed_post.content[i].content;}else if(feed_post.content[i].type==='link'){desc=feed_post.content[i].text;}else if(feed_post.content[i].type==='paypalButton'){desc=feed_post.content[i].paypalButtonText;}}}else{feed_type=feed_post.type;title='Shared from '+feed_post.type+': '+feed_post.username;desc=feed_post.caption.substr(0,limit);if(feed_post.pictures[0]){image=feed_post.pictures[0];type='image';}else if(typeof feed_post.media_image!='undefined'){image=feed_post.media_image;type='image';}else if(typeof feed_post.retweet_media_image!='undefined'){image=feed_post.retweet_media_image;type='image';}else if(feed_type==='Youtube'){type='video';video_id=feed_post.video.videoId;image=feed_post.media_image;}else if(feed_type==='Dailymotion'){type='video';video_id=feed_post.video.videoId;image=feed_post.media_image;}else if(feed_type==='Vimeo'){type='video';video_id=feed_post.video.videoId;image=feed_post.video.videoImgId;}
shared_link=feed_post.shareLink;}
if(!title){if(subtitle){title=subtitle;}else{title='My gallery';}}
if(!desc){desc='See more on my '+APP_MODEL.meta.app_common_name;}
title=encodeURIComponent(title);desc=encodeURIComponent(desc.toString().replace(/[\ud800-\udfff]/g,''));share_hash={title:title,description:desc,image:image,default_image:'https://s3-us-west-1.amazonaws.com/powr/social-feed-placeholder-color.png',shared_link:shared_link,type:type,app_type:app_type,feed_type:feed_type,video_id:video_id};return share_hash;}
function interpreter(app_type,feed_post,share_on){var url;if(app_type==='fileEmbed'){if(share_on==='google'){url='https://plus.google.com/share?url='+feed_post;}else if(share_on==='twitter'){url='https://twitter.com/share?text=&url='+feed_post;}else if(share_on==='tumblr'){url='https://www.tumblr.com/share/link?url='+feed_post;}else if(share_on==='facebook'){url='https://www.facebook.com/sharer/sharer.php?u='+feed_post;}else if(share_on==='email'){url='mailto:?subject=&body='+feed_post;}else if(share_on==='pinterest'){url='https://www.pinterest.com/pin/create/button/?url='+feed_post;}}else{var host_url=baseUri();var twitter_url;var tweet_url;var facebook_url;var fb_url;var google_url;var twitter_url_default_image;var share_data;var share_hash=get_content(app_type,feed_post,share_on);var tumblr_url;var share_image='';var share_link='';if(!share_hash.shared_link){share_hash.shared_link=host_url+'/plugins/'+APP_MODEL.meta.app_slug+'/view?id='+APP_MODEL.meta.id+'&mode=page';}
if(share_on==='facebook'){share_hash.title=share_hash.title.replace(/\./g,' ');share_hash.description=share_hash.description.replace(/\./g,' ');share_data=APP_MODEL.meta.id+'-app_type-'+APP_MODEL.meta.app_slug+'-title-'+share_hash.title+'-desc-'+share_hash.description+'-shared_link-1';}else{share_data=APP_MODEL.meta.id+'-app_type-'+APP_MODEL.meta.app_slug+'-title-'+share_hash.title+'-desc-'+share_hash.description+'-shared_link-'+share_hash.shared_link;share_data=share_data.replace(/\|/g,'%7C');share_data=share_data.replace(/\./g,'%2E');share_data=share_data.replace(/&/g,'%26');share_data=share_data.replace(/\?/g,'%3F');share_data=encodeURIComponent(share_data);share_data=encodeURIComponent(share_data);}
twitter_url=host_url+'/social-share/'+share_data+'/?image_to_share='+share_hash.image;twitter_url_default_image=host_url+'/social-share/'+share_data+'/?image_to_share='+share_hash.default_image;if(app_type==='socialFeed'&&share_hash.feed_type==='Twitter'){tweet_url='https://twitter.com/share?text='+share_hash.description+'&url='+share_hash.shared_link+'&original_referer='+share_hash.shared_link;}else{tweet_url='https://twitter.com/share?text=&url='+twitter_url;}
if(app_type==='microblog'){share_data=encodeURIComponent(share_data);facebook_url=host_url+'/social-share/'+share_data+'/?image_to_share='+share_hash.image;fb_url='https://www.facebook.com/sharer/sharer.php?u='+facebook_url;google_url='https://plus.google.com/share?url='+facebook_url;tumblr_url='https://www.tumblr.com/share/link?url='+twitter_url+'&posttype=link';}else{google_url='https://plus.google.com/share?url='+share_hash.shared_link;tumblr_url='https://www.tumblr.com/share/link?url='+share_hash.shared_link+'&posttype=link';if(share_hash.type==='text'&&share_hash.feed_type!='Twitter'){share_data=encodeURIComponent(share_data);facebook_url=host_url+'/social-share/'+share_data+'/?image_to_share=';fb_url='https://www.facebook.com/sharer/sharer.php?u='+facebook_url;}else{fb_url='https://www.facebook.com/sharer/sharer.php?u='+share_hash.shared_link;}}
share_hash.image=encodeURIComponent(share_hash.image);var pinterest_url='https://www.pinterest.com/pin/create/button/?url='+share_hash.shared_link+'&media='+share_hash.image+'&description='+share_hash.description.replace(/[\ud800-\udfff]/g,'');if(share_hash.shared_link){share_link='Shared link: '+share_hash.shared_link;}else{share_link='Shared link: '+host_url+'/plugins/'+APP_MODEL.meta.app_slug+'/view?id='+APP_MODEL.meta.id+'&mode=page';}
if(share_hash.shared_link&&app_type==='microblog'&&share_on!='pinterest'){google_url='https://plus.google.com/share?url='+share_hash.shared_link;tweet_url='https://twitter.com/share?text=&url='+share_hash.shared_link;tumblr_url='https://www.tumblr.com/share/link?url='+share_hash.shared_link+'&posttype=link';if(share_on==='google'){url=google_url;}else if(share_on==='twitter'){url=tweet_url;}else if(share_on==='tumblr'){url=tumblr_url;}else if(share_on==='facebook'){url=fb_url;}else if(share_on==='email'){url='mailto:?subject='+share_hash.title+'&body='+share_link;}}else{if(share_hash.type==='image'){if(share_on==='google'&&share_hash.feed_type!='Instagram'){url=google_url;}else if(share_on==='twitter'){url=tweet_url;}else if(share_on==='tumblr'){url=tumblr_url;}else if(share_on==='facebook'&&share_hash.feed_type!='Instagram'){url=fb_url;}else if(share_on==='email'){url='mailto:?subject='+share_hash.title+'&body='+share_link;}else if(share_on==='pinterest'){url=pinterest_url;}}else if(share_hash.type==='video'){if(share_on==='google'){if(app_type==='microblog'){url='https://plus.google.com/share?url='+share_hash.image;}else{url='https://plus.google.com/share?url='+share_hash.shared_link;}}else if(share_on==='twitter'){if(app_type==='microblog'){url='https://twitter.com/share?text='+share_hash.description+'&url='+share_hash.image+'&via=POWrPlugins';}else{url='https://twitter.com/share?text='+share_hash.description+'&url='+share_hash.shared_link+'&via=POWrPlugins';}}else if(share_on==='tumblr'){url='https://www.tumblr.com/share/link?url='+share_hash.image;}else if(share_on==='facebook'){if(app_type==='microblog'){url='https://www.facebook.com/sharer/sharer.php?u='+share_hash.image;}else{url=fb_url;}}else if(share_on==='email'){url='mailto:?subject='+share_hash.title+'&body='+share_link;}else if(share_on==='pinterest'){if(app_type==='microblog'){url='https://www.pinterest.com/pin/create/button/?url='+share_hash.shared_link+'&media='+share_hash.default_image+'&description='+share_hash.description;}else{if(share_hash.feed_type==='Youtube'){url='https://www.pinterest.com/pin/create/button/?url=https://www.youtube.com/attribution_link%252watch%253Fv%253D_'+share_hash.video_id+'%2526feature%253Dshare&description='+share_hash.description+'&is_video=true&media=https://img.youtube.com/vi/'+share_hash.video_id+'/default.jpg';}else if(share_hash.feed_type==='Dailymotion'){url='https://www.pinterest.com/pin/create/bookmarklet/?url=https://www.dailymotion.com%2Fvideo%2F'+share_hash.video_id+'&description='+share_hash.description+'&media=https://www.dailymotion.com/thumbnail/video/'+share_hash.video_id;}else if(share_hash.feed_type==='Vimeo'){url='https://www.pinterest.com/pin/create/button/?media=https://i.vimeocdn.com/video/'+share_hash.video_id+'_1280x720.jpg&url=https://vimeo.com/'+share_hash.video_id_img+'&is_video=true&description='+share_hash.description;}}}}else if(share_hash.type==='text'){var content=shareContent('dynamic','text=',feed_post,150);if(share_on==='google'){url=google_url;}else if(share_on==='twitter'){url='https://twitter.com/intent/tweet?'+content+'&url='+share_hash.shared_link+'&via=POWrPlugins';}else if(share_on==='tumblr'){url='https://www.tumblr.com/share/link?url='+twitter_url_default_image;}else if(share_on==='facebook'){url=fb_url;}else if(share_on==='email'){url='mailto:?subject='+share_hash.title+'&body='+share_link;}else if(share_on==='pinterest'){url='https://www.pinterest.com/pin/create/button/?url='+share_hash.shared_link+'&media='+share_hash.default_image+'&description='+share_hash.description;}}}}
if(url&&url.substr(-1)==='/'){url=url.slice(0,-1);}
return url;}
window.sharinator=function(app_type,feed_post,share_on){return interpreter(app_type,feed_post,share_on);};function shareContent(type,pre,blog,limit){limit=limit||10000;if(type=='dynamic'){for(var i in blog.content){if(blog.content[i].type=='title'){return encodeURI(pre+blog.content[i].content).substr(0,limit);}else if(blog.content[i].type=='subtitle'){return encodeURI(pre+blog.content[i].content).substr(0,limit);}else if(blog.content[i].type=='text'){return encodeURI(pre+blog.content[i].content).substr(0,limit);}}
return null;}else if(type=='image'){for(var i in blog.content){if(blog.content[i].type==type){return pre+blog.content[i].content;}}
return null;}else{for(var i in blog.content){if(blog.content[i].type==type){return encodeURI(pre+blog.content[i].content).substr(0,limit);}}
return null;}}})});